{% extends "base.html" %}
{% block title %}Valuer Directory â€“ Care Home Broker{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto space-y-8 text-white">

  <!-- HEADER -->
  <div>
    <p class="text-[11px] font-mono text-white/50 mb-1">Approved valuers</p>
    <h1 class="text-2xl font-semibold">Valuer Framework</h1>
    <p class="text-sm text-white/70 mt-2 max-w-2xl">
      Accredited valuers available for formal valuations, independent assessments, 
      desktop reviews and advisory input for buyers and sellers.
      Listings below are created by professionals who have registered with Kaijo North.
    </p>
  </div>

  <!-- VALUER LIST -->
  {% if valuers %}
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">

      {% for v in valuers %}
        <div class="rounded-lg border border-white/10 bg-black/30 p-5 backdrop-blur-sm shadow-lg">

          <!-- Header: name + premium badge -->
          <div class="flex items-center justify-between mb-3">
            <div>
              <h2 class="text-lg font-semibold text-kaijoYellow">
                {{ v.company_name or "Valuer" }}
              </h2>
              <p class="text-[11px] text-white/60">
                {{ v.accreditation or "Accredited Professional" }}
              </p>
            </div>

            {% if v.user_id in valuer_sub_ids %}
              <span class="px-2 py-1 rounded-full text-[10px] bg-kaijoPink text-white font-semibold border border-white/10">
                Premium
              </span>
            {% endif %}
          </div>

          <!-- Regions -->
          <div class="mb-3">
            <p class="text-[11px] text-white/60 uppercase tracking-wide">Regions covered</p>
            <p class="text-sm text-white/80">
              {{ v.regions or "UK-wide" }}
            </p>
          </div>

          <!-- Bio -->
          <div class="mb-3">
            <p class="text-[11px] text-white/60 uppercase tracking-wide">About</p>
            <p class="text-sm text-white/80">
              {{ v.bio or "This valuer has not provided a description yet." }}
            </p>
          </div>

          <!-- Pricing notes -->
          <div class="mb-4">
            <p class="text-[11px] text-white/60 uppercase tracking-wide">Pricing notes</p>
            <p class="text-sm text-white/80">
              {{ v.pricing_notes or "Available on request" }}
            </p>
          </div>

          <!-- CTA -->
          <div class="flex justify-end">
            <a href="{{ url_for('login') }}"
               class="px-3 py-1.5 rounded bg-kaijoPink text-white text-xs hover:bg-kaijoYellow hover:text-black transition">
              Request valuation
            </a>
          </div>

        </div>
      {% endfor %}

    </div>

  {% else %}
    <p class="text-white/70">No valuers are currently listed.</p>
  {% endif %}

</div>
{% endblock %}
